\documentclass[letterpaper,12pt]{article}
\usepackage[section=1.4]{mathhw}
\usepackage{plotting}
\usepackage{siunitx}

% OBLITERATE scientific notation.
\sisetup{
  scientific-notation = fixed,
  fixed-exponent = 0,
  zero-decimal-to-integer,
  round-mode = places,
  round-half = up,
}

\pgfplotstableset{
  sd/.style n args={4}{
    every column/.append style={
      string type,
    },
    columns/rownum/.append style={
      column name={\textbf{#1}},
      column type={S[table-format=#2]},
    },
    columns/0/.append style={
      column name={\boldsymbol{x_i}},
      column type={S[parse-numbers=false]},
    },
    columns/deviation/.append style={
      column name={\boldmath$x_i - \bar{x}$},
      column type={S[round-precision=#3]},
    },
    columns/devsq/.append style={
      column name={\boldmath$(x_i - \bar{x})^2$},
      column type={S[round-precision=#4]},
    },
  }
}

\newcommand{\sd}[1]{
  \pgfplotstablesort{#1}{#1}

  \sumcol{0}{#1}{\datasum}
  \pgfplotstablecreatecol[
    expr={
      \datasum / \pgfplotstablerows
    }
  ]{mean}{#1}

  \pgfplotstablecreatecol[
    expr={
      \pgfplotstablerow + 1
    }
  ]{rownum}{#1}

  \pgfplotstablecreatecol[
    expr={
      \thisrowno{0} - \thisrow{mean}
    }
  ]{deviation}{#1}

  \pgfplotstablecreatecol[
    expr={
      pow(\thisrow{deviation}, 2)
    }
  ]{devsq}{#1}

  \pgfplotstablegetrowsof{#1}
    \pgfmathsetmacro{\rowcount}{\pgfplotsretval}

  % \pgfplotstablegetrowsof{#1}
  %   \pgfmathsetmacro{#2}{floor(log10(\pgfplotsretval) + 1)}
}

\newcommand{\eval}[1]{
  \pgfmathparse{#1}\num{\pgfmathresult}
}

\newcommand{\evalp}[2]{
  \pgfmathparse{#1}\num[round-precision=#2]{\pgfmathresult}
}

\pgfplotstableread{
  116.4
  115.9
  114.6
  115.2
  115.8
}{\datatwo}

\begin{document}

\maketitle

\begin{enumerate}
  \item[44.]
    Poly(3-hydroxybutyrate) (PHB), a semicrystalline polymer that is fully biodegradable and biocompatible, is obtained from renewable resources. From a sustainability perspective, PHB offers many attractive properties though it is more expensive to produce than standard plastics. The accompanying data on melting point (\textcelsius) for each of 12 specimens of the polymer using a differential scanning calorimeter appeared in the article ``The Melting Behaviour of Poly(3-Hydroxybutyrate) by DSC. Reproducibility Study'' (\textit{Polymer Testing}, 2013: 215–220).
    \begin{center}
      \begin{tabular}{*{6}{c}}
        180.5 & 181.7 & 180.9 & 181.6 & 182.6 & 181.6 \\
        181.3 & 182.1 & 182.1 & 180.3 & 181.7 & 180.5
      \end{tabular}
    \end{center}
    Compute the following:
    \begin{enumerate}
      \item[a.]
        The sample range
        \begin{align*}
          \max(x) - \min(x) = 182.7 - 180.3 = 2.4
        \end{align*}
      \item[b.]
        The sample variance $s^2$ from the definition [\textit{Hint:} First subtract 180 from each observation.]
        \begin{align*}
          \sum{x_i} &= 2176.9 \\
          \sum{x_i^2} &= 394913.57 \\
          s^2 &= \frac{\sum{x_i^2} - \frac{(\sum{x_i})^2}{n}}{n - 1} = \frac{394913.57 - \frac{2176.9^2}{12}}{11} \approx 0.52
        \end{align*}
      \item[c.] The sample standard deviation
        \begin{align*}
          s = \sqrt{s^2} \approx \sqrt{0.52} \approx 0.72
        \end{align*}
    \end{enumerate}

  \item[45.]
    The value of Young’s modulus (GPa) was determined for cast plates consisting of certain intermetallic substrates, resulting in the following sample observations (``Strength and Modulus of a Molybdenum-Coated Ti-25Al-10Nb-3U-1Mo Intermetallic,'' \textit{J. of Materials Engr. and Performance}, 1997: 46–50):
    \begin{center}
      \begin{tabular}{*{5}{c}}
        116.4 & 115.9 & 114.6 & 115.2 & 115.8
      \end{tabular}
    \end{center}
    \begin{enumerate}
      \item[a.]
        Calculate $\bar{x}$ and the deviations from the mean.
        \sd{\datatwo}
        \begin{align*}
          \bar{x} = \frac{\sum{x_i}}{n} = \frac{\datasum}{\rowcount} = \eval{\datasum / \rowcount}
        \end{align*}
        \begin{center}
          \pgfplotstabletypeset[
            columns={rownum, 0, deviation},
            sd={Plate}{2}{2}{3}
          ]{\datatwo}
        \end{center}
      \item[b.]
        Use the deviations calculated in part (a) to obtain the sample variance and the sample standard deviation.
        \begin{center}
          \pgfplotstabletypeset[
            columns={rownum, 0, deviation, devsq},
            sd={Plate}{2}{2}{3}
          ]{\datatwo}
        \end{center}
        \sumcol{5}{\datatwo}{\devsq}
        \pgfmathsetmacro{\variance}{\devsq / (\rowcount - 1)}
        \begin{align*}
          s^2 &= \frac{\sum(x_i - \bar{x})^2}{n - 1} \approx \frac{\num[round-precision=3]{\devsq}}{\eval{\rowcount - 1}} \approx \num[round-precision=3]{\variance} \\
          s &= \sqrt{s^2} \approx \sqrt{\num[round-precision=3]{\variance}} \approx \evalp{sqrt(\variance)}{3}
        \end{align*}
      \item[d.]
        Subtract 100 from each observation to obtain a sample of transformed values. Now calculate the sample variance of these transformed values, and compare it to $s^2$ for the original data.
        \pgfplotstablenew[
          create on use/0/.style={
            create col/copy column from table={\datatwo}{0}
          },
          columns={0},
        ]
        {\pgfplotstablegetrowsof{\datatwo}}
        {\datatwod}
        \pgfplotstablemodifyeachcolumnelement{0}\of{\datatwod}\as\cell{%
          \pgfmathparse{\cell - 100}%
          \edef\cell{\pgfmathresult}%
        }
        \sd{\datatwod}
        \begin{center}
          \pgfplotstabletypeset[
            columns={rownum, 0, deviation, devsq},
            sd={Plate}{2}{2}{3}
          ]{\datatwod}
        \end{center}
        \sumcol{5}{\datatwo}{\devsqd}
        \begin{align*}
          s^2 &= \frac{\sum(x_i - \bar{x})^2}{n - 1} \approx \frac{\num[round-precision=3]{\devsqd}}{\eval{\rowcount - 1}} \approx \evalp{\devsqd / (\rowcount - 1)}{3} \\
        \end{align*}
        The sample variance is equivalent to the sample variance of the original data.
    \end{enumerate}
  \item[47.]
    Zinfandel is a popular red wine varietal produced almost exclusively in California. It is rather controversial among wine connoisseurs because its alcohol content varies quite substantially from one producer to another. In May 2013, the author went to the website klwines.com, randomly selected 10 zinfandels from among the 325 available, and obtained the following values of alcohol content (\%):
    \begin{center}
      \begin{tabular}{*{5}{c}}
        14.8 & 14.5 & 16.1 & 14.2 & 15.9 \\
        13.7 & 16.2 & 14.6 & 13.8 & 15.0
      \end{tabular}
    \end{center}
    \begin{enumerate}
      \item[a.]
        Calculate and interpret several measures of center.
      \item[b.]
        Calculate the sample variance using the defining formula.
      \item[c.]
        Calculate the sample variance using the shortcut formula after subtracting 13 from each observation.
    \end{enumerate}
  \item[51.]
    The article ``A Thin-Film Oxygen Uptake Test for the Evaluation of Automotive Crankcase Lubricants'' (\textit{Lubric. Engr.}, 1984: 75–83) reported the following data on oxidation-induction time (min) for various commercial oils:
    \begin{center}
      \begin{tabular}{*{11}{S[table-format=3.0]}}
        87 & 103 & 130 & 160 & 180 & 195 & 132 & 145 & 211 & 105 & 145 \\
        153 & 152 & 138 & 87 & 99 & 93 & 119 & 129
      \end{tabular}
    \end{center}
    \begin{enumerate}
      \item[a.]
        Calculate the sample variance and standard deviation.
      \item[b.]
        If the observations were reexpressed in hours, what would be the resulting values of the sample variance and sample standard deviation? Answer without actually performing the reexpression.
    \end{enumerate}
\end{enumerate}

\end{document}
